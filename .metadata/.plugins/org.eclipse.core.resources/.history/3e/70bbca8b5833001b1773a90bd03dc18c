package task6;

import java.util.Iterator;

public class FilterIterator implements Iterator<Character> {
    private Iterator<Character> original;
    
    public FilterIterator(Iterator<Character> original) {
    	this.original = original;
    }
    
    public boolean hasNext() {
    	return original.hasNext();
    }
    
//    final int AFTER_SPACE = 1, OTHER = 2;
//    final State AfterSpace = null;
//    final State Other = null; 
//    
//    private int state = AFTER_SPACE;
    private State currentState;
//    public void setState(int newState) {
//    	state = newState;
//    }
   
    
    public void setState(State s) {
    	currentState = s;
    }
    
    public Character next() {
		char ch = original.next();
	//	switch (state) {
	//	case AFTER_SPACE:
	//	    if (! Character.isWhitespace(ch)) {
	//		setState(OTHER);
	//	    }
	//	    return ch;
	//	default:
	//	    if (Character.isWhitespace(ch)) {
	//		setState(AFTER_SPACE);
	//		return ch;
	//	    }
	//	    return '.';
	//		}
	    	return currentState.processChar(this, ch);
    }
    public void remove() {
    	original.remove();
    }
}